<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://docbook.org/xml/5.1/rng/docbook.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://docbook.org/xml/5.1/sch/docbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<chapter xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1">
    <title>Knowledge Editor</title>
    <section><title>Knowledge Editor Overview</title>   
        <para>The Editor allows the user to view, modify, and add new terminologies and value sets
            to their medical dictionary. By default, the Editor is divided into 2 sections: the
                <emphasis role="bold">task</emphasis> pane and the <emphasis role="bold">concept
                viewer</emphasis> pane. When a concept is selected on the left task pane, its
            details can be viewed in the right details pane. </para>
   
    <simplesect><title>Knowledge Editor Layout</title>
        <para>
            <informalfigure>
                <mediaobject>
                    <alt>Figure of the Knowledge Editor layout as described above.</alt>
                    <imageobject>
                        <imagedata fileref="images/editor-layout.png" width="600px"/>
                    </imageobject>
                </mediaobject>
            </informalfigure>
        </para>
    </simplesect>  
    </section>     
        <section><title>Concept Viewer </title>
            <para>Once a concept is selected, its details is displayed on one of the Concept Viewer
                panes. The pane lists the general concept information such as STAMP (define STAMP), its
                descriptions which include additional names it may be known by in other languages and
                dialects, and the axiom history which illustrates its taxonomy relationship. Details
                such as the inferred information or inactive items can be toggled on by selecting
                "Display options" in the upper right corner, and its refset relationships and history
                can be found in tabs within the same panel.</para>
            <para><inlinemediaobject>
                <alt>Figure of the Display Options modal from the concept viewer. Displays options
                    such as "Show authors, language, modules, filter STAMP date," and more.</alt>
                <imageobject>
                    <imagedata fileref="images/display-options.png" width="750px"/>
                </imageobject>
            </inlinemediaobject></para>
        <para>Optionally another <emphasis role="bold">concept viewer</emphasis> pane can be opened
            and will display on the far right side of the window. There are three alternatives to
            open another concept viewer: </para>
        <itemizedlist>
            <listitem>
                <para>Right-click the concept you wish to review and select "<emphasis role="bold"
                        >open in new concept viewer</emphasis>". </para>
            </listitem>
            <listitem>
                <para>Highlight the concept you want to see in a new viewer and press "<emphasis
                        role="bold">keyboard shortcut tbd, e.g. ctrl+alt+n</emphasis> " to open a
                    new concept viewer. </para>
            </listitem>
            <listitem>
                <para>In the top navigation pane, select <emphasis role="bold"
                        >"Authoring"</emphasis>, then <emphasis role="bold">"Launch Third
                        View"</emphasis>.</para>
            </listitem>
        </itemizedlist>
        </section>
        <section><title>Task Pane </title>
            <simplesect><title>Taxonomy Tree</title>
            <para>One of the ways to navigate through the concept hiearchy is to traverse the
                taxonomy tree located in the left pane. You can traverse the tree by selecting
                the caret symbol on the left of the tree to display the selected concept's
                children.</para>
            </simplesect>
            <simplesect><title></title></simplesect>
        </section>   
        <section><title>Navigation</title>
        <para>The Editor allows the ability to modify,create content, view content, and export
            content. Access to these functions are found in the top navigation bar. Additional
            features may also be accessed by right-clicking the concepts within the taxonomy
            tab.</para>
            <para><inlinemediaobject>
                <alt>Figure of the Knowledge Editor navigation with the interfaces highlighted</alt>
                <imageobject>
                    <imagedata fileref="images/nav-editor-layout.png" width="750px"/>
                </imageobject>
            </inlinemediaobject></para>
        <para>The application indicates which area and function you are working with on the upper
            left corner.</para>
        </section>

        <section><title>Can I view concepts in a hierarchical view?</title>
        <para>Imported dictionaries are displayed in a hierachical view under the "Taxonomy" tab
            (the left panel). To expand each node, select the caret icon next to each concept. If
            you open a concept using the search method, the term's hierarchical location will be
            illustrated in the taxonomy tab as well.</para>
            
        </section>

        
        <!-- Part 2-->
        <section><title>How do I modify and new create content?</title>

            <para>In order to modify a concept or value set, search for the concept by keyword or
            through the taxonomy tree, then select it. The concept's details should display with an
            option to select the "Edit" action on the top right corner of the screen. </para>
            
            <section><title>Authoring</title>
                <para>The Authoring interface displays terminologies loaded into the environment
                    specifically â€“ concepts, assemblages, and mapsets. Enables the creation of new
                    concepts, assemblages, and mapsets. User's can also run the classifier, and
                    perform searches. </para>
            </section>
            <section>
                <title>Export Management</title>
                <para>The Export Management functions are accessable users who have Editing
                    permissions. Tasks such as running QA checks, content releases, QA reports, and
                    conflict resolutions are done in this area. Only Content Managers have
                    permissions to export content.</para>
            </section>
            <section><title>Search for concepts</title>
                <para>You can perform a search in the Authoring interface. On the left pane,here are two
                    options to find the concepts: under the taxonomy tab or by the search tab.</para>
                
                <para>Knowledge has implemented Lucene as one of it's search engines. Lucene is an 
                    open-source full-text search library. Both Simple Search and Advanced Search described 
                    in the subsequent sections use Lucene. With the Lucene syntax you can easily perform
                    searchs for more details on the Lucene search syntax refer to the Lucene tutorial
                    <link xlink:href="http://www.lucenetutorial.com"> Lucene tutorial </link>
                </para>
                <section><title>Simple Search</title>
                    <para>Terminologies can be searched by keywords under the Search tab in the left
                        pane. Begin After the keywords are entered, select the button "Search" to
                        retrieve results. </para>
                    <para>Simple search allows you to search for the keyword that you typed in the
                        search box without selecting and advanced search or SNOMED CT options.
                        Selecting the search button will return all descriptions that matches. </para>
                </section>
                <section><title>Advanced Search</title>
                    <para>There are several ways to refine the search criteria under  "Advanced
                        Search" and "SNOMED Filters" sections of the Search tab. Select the button
                        "Search" to retrieve results after any search criteria changes. Selecting
                        the "Reset" button will clear all fields in the Search tab. A figure of the
                        available filter criteria is shown below.</para>
                    <para><inlinemediaobject>
                        <alt>Figure of the Search tab with additional filter criteria such as
                            Status, Path, STAMP date range, Author, Modules, and Description
                            type.</alt>
                        <imageobject>
                            <imagedata fileref="images/advanced-search.png"/>
                        </imageobject>
                    </inlinemediaobject></para>
                </section>
                <section><title>Saved Searches</title>
                    <para>Search criteria can be saved for later user under the Search tab. To do so,
                        enter the search criteria and select the "Search" button. A results section
                        should appear below the search fields along with options to save the search and
                        to export the results to a CSV file. Select the "Save Search" link in order to
                        name and save the search.</para>
                    <para>Saved searches are retrieved under the "saved searches" section of the search
                        tab. This section is only visible if there are previously saved searches. Select
                        the desired search from a dropdown list and press the "Search" button to pull
                        results.</para>
                </section>
                <section>
                    <title>How do I link Taxonomy and Search to Concept Viewer?</title>
                    <para>In the Knowledge Authoring application you can connect th concept selected in the
                        search results and in the taxonomy to the Concept Viewer Panel. By default in connection
                        or linkage is set. This means when you select a concept in the taxonomy the Concept
                        Viewer will display the details of that concept. The same is true if select a result
                        from a search. You can modify the linkage by toggling the linkage icon in the upper
                        lefthand corner of the concept details panel.
                    </para>
                    <para><inlinemediaobject>
                        <alt>Linkage icon</alt>
                        <imageobject>
                            <imagedata fileref="images/linkage-icon.png" width="250px" />
                        </imageobject>
                    </inlinemediaobject></para>
                </section>
            </section>           
        </section>   
        <section><title>Knowledge Viewing Capabilities</title>
            <para></para></section>
    <!-- Part 4 -->
        <section><title>Useful Functionality</title>
            <para></para>
            <section><title>Using the Briefcase</title>
                <para>A briefcase is where you can temporarily hold concepts so that you can review them
                    later. For example, if you run the classifier and it identifies multiple duplicates, you
                    may want to add them to your briefcase so that you can access the list of concepts
                    quickly to compare. Or if you're reviewing the concept's associated members, the table
                    may have an option to add them to your briefcase.</para>
                <para>To add a terminology to your briefase from some lists such as classifier page, select
                    the briefacse icon (not all tables have this feature). Simply click on the briefcase
                    icon to add or remove it from your list. Your briefcase is viewable in the left pane
                    navigation.</para>
            </section>
        </section>
        
        <section><title>Selecting a Project Area</title>
            <para>The name of the project area you are currently working on is indicated on the top left
                corner of the application. If you are assigned to multiple projects, you may switch to a
                different area by selecting "Projects" in the top navigation menu.</para>
        </section>
        <section><title>Export Management</title>
        <para>The Export Management interface contains information such as:<itemizedlist>
            <listitem>
                <para>Recent exports</para>
            </listitem>
            <listitem>
                <para>Export file types</para>
            </listitem>
            <listitem>
                <para>Concept conflicts</para>
            </listitem>
            <listitem>
                <para>Release statistics</para>
            </listitem>
            <listitem>
                <para>QA test results</para>
            </listitem>
        </itemizedlist></para>
        <para>Knowledge users with Content Manager permissions have access to these information. The
            primary purpose of Export Management is to run QA checks, export files and releases, and
            review release statistics.</para>
        </section>
        <section>
            <title>Creating an Export</title>
            <para>There are two types of exports that can be created: a local downloadable file, and a
                release version that is uploaded to the repository. Exports and releases created are
                specific to the module you are working on. Once a release is created, you have the
                option of downloading it onto your system.</para>
            <para>When an export is initiated, several steps happen in the background: the classifier is
                run, a QA check is performed, and then a file is packaged for download.</para>
            <para>To create an export, go to the Export Management interface and on the left pane there
                is a table of Exports and QA, filtered by Path. Select the "Actionsâ€¦" dropdown and
                "Create an Export".</para>
            <para>A modal appears asking which path the release should be created under, the file type
                for export, and a few additional details. Select "Create" to confirm and execute the
                task.</para>
            
            <para><inlinemediaobject>
                <?oxy_comment_start author="mnham" timestamp="20190624T121747-0700" comment="Images are temporary, need new ones once features are developed."?>
                <alt>Create an Export Modal displays a form with the following information:
                    Exporting Module, Path, Type of Export, Namespace, Create Release Version,
                    Version number, and buttons Create and Cancel.</alt><?oxy_comment_end?>
                <imageobject>
                    <imagedata fileref="images/create-export-modal.png"/>
                </imageobject>
            </inlinemediaobject></para>
            <para>The content release will appear in the Content Releases table on the left pane. There
                is the ability to cancel the release creation if it has not been complete yet, located
                under the table's Status column. </para>
        </section>
            <section>
                <title>Creating a Release Version</title>
                <para>When a module is ready for a release, the content manager must go through the
                    Export Management workflow in order to upload content to the repository.</para>
                <para>To create a version release, go to the Export Management interface and on the left
                    pane there is a table of Exports and QA, filtered by Path. Select the "Actionsâ€¦"
                    dropdown and "Create an Export". </para>
                <para>A modal appears asking which path the release should be created under, the file
                    type for export, and a dialogue for release version. Check the box for release
                    version, modify the version number if needed, then select "Create" to confirm and
                    execute the task. The version number is automatically set to your current date in
                    year-month-date format.</para>
            </section>
        
        <section>
            <title>QA Tests</title>
            <para>QA Tests flag terminologies that have broken concept rules in the requested
                release/export, including domain attribute errors and description duplicates. This check
                can be run individually or as part of an export request. To do so, select the desired
                action from the "Createâ€¦" dropdown on the Export Management interface.</para>
            <para>Once the QA test has completed its analysis, select the run you just requested from
                the Exports and QA table on the left to review the results on the right pane. There is a
                relationship tree categorizing the results for you to select from. When you select a
                category, its details will appear in the bottom half of the pane with the options to
                review the concept described and to whitelist the concept.</para>
            <simplesect>
                <title>What is whitelisting?</title>
                <para>Whitelisting a terminology in the QA Test Results pane means that the error the
                    system found is acceptable and no action needs to be done. You can choose to
                    whitelist a concept by clicking the "Whitelist" link in the table results.</para>
                <para><inlinemediaobject>
                    <alt>The details for "All active stated relationships should be the same moduleID of the source concept" table displaying 3 concepts, a message associated with each describing QA problem, the concept ID, and a "Click to WHitelist" button.</alt>
                    <imageobject>
                        <imagedata fileref="images/whitelist-qatests.png"/>
                    </imageobject>
                </inlinemediaobject></para>
            </simplesect>
        </section>
        <section>
            <title>Conflict Detection</title>
            <para>Conflict detection finds concepts that have conficting information due to updates made
                by two or more users. These results are found under the "Conflicts" tab with a link to
                the terminology.</para>
        </section>
        <section>
            <title>Downloading files</title>
            <para>Conent releases and their statistics can be downloaded under the details panel. Select
                the release you are interested in and there will be a button on the right panel named
                "Download Release". Content releases download in a
                <?oxy_comment_start author="mnham" timestamp="20190626T111231-0700" comment="needs file formats, including .txt and.xml (what is solor&apos;s native export?)"?>[format]<?oxy_comment_end?>.</para>
            <simplesect>
                <title>What are release statistics?</title>
                <para>Release statistics are a set of descriptive measures and statistics obtained
                    through automated queries with the objective of providing information on content
                    changes and temporal trends as a measurement of progress. You can download this
                    information by selecting "Download Statistics" under the export or release details
                    page.</para>
                <para><inlinemediaobject>
                    <alt>Screenshot of the Content Export page titled, "Content Export 01/02/2019 12:09:05" with two buttons underneath "Download Export" and "Download Statistics".</alt>
                    <imageobject>
                        <imagedata fileref="images/download-statistics.png"/>
                    </imageobject>
                </inlinemediaobject></para>
            </simplesect>
        </section>
    
   
    
    <section><title>Axioms</title>
        <para>Each Concept is logically defined by it's relationships to other concepts.</para>
    </section>
    
    <section><title>Classifier</title>
        <para>The Knowledge Editor integrates a high performance Classifier--SnoRocket <link
            xlink:href="https://aehrc.com/snorocket/">https://aehrc.com/snorocket/</link>--which
            supports OWL EL++ and Concrete Domains. The classifier evaluates the stated relationships
            based on <emphasis role="italic">Description Logics </emphasis>upon which the terminology is
            defined and generates the inferred relationships for each concept. The Knowledge Editor
            displays <emphasis role="italic">stated and inferred </emphasis>views of the concept in the
            <emphasis role="italic">concept viewer pane </emphasis>and the Taxonomy displays
            <emphasis role="italic">stated and inferred </emphasis>is-a relationships based on the
            Taxonomy display options.</para>
        <simplesect>
            <title>How Do I Run the Classifier?</title>
            <para>There are 2 places in the Knowledge Editor interface to run the classifier: at the
                main navigation menu under "Authoring" and in the "Classifier" tab on the left pane. </para>
            <para>The initial run of the classifier after the start of the system will result in all
                concepts being evaluated. Subsequent classifications will only evaluate modified
                concepts, also known as incremental classification. Incremental classification will
                continue so long as the classifier status cache is maintained. This number is only a
                measure of how much work the classifier did. </para>
        </simplesect>
        <simplesect>
            <title>How Do I View Previous Classifier Results?</title>
            <para>When you open the Classifier tab under the Authoring interface, there is a table of
                previously run classifications. You may view classifications  results selecting a
                different classification run from the dropdown "Classifier runs".</para>
            <para>To view any of these runs, select one and it will display in a concept viewer on the
                right.</para>
            <para>Here, a summary of attributes and types are displayed including:
                <itemizedlist>
                    <listitem>
                        <para>Added "Is a" Types</para>
                        <para>This indication that an is-a relationship has been added to the concept by the classifier.</para>
                    </listitem>
                    <listitem>
                        <para>Inactived "Is a" Types</para>
                    </listitem>
                    <listitem>
                        <para>New Attributes</para>
                    </listitem>
                    <listitem>
                        <para>Inactivated Attributes</para>
                    </listitem>
                    <listitem>
                        <para>Cycles Detected</para>
                    </listitem>
                    <listitem>
                        <para>Equivalents Detected</para>
                    </listitem>
                </itemizedlist>To review the concepts under each of these summaries, select the row. A
                table listing the identificed concepts will display below the summary list. You also
                have the option of adding concepts to your briefcase.</para>
            <para>If you discover any inaccuracies or equivalencies after a classification, edits must
                be made directly at the concept level. Refer to "How to Edit a Concept" for information
                on modifying
                terminologies.<?oxy_comment_start author="mnham" timestamp="20190620T144233-0700" comment="Link to Create-Edit section"?></para><?oxy_comment_end?>
        </simplesect>
    </section>
    
</chapter> 
