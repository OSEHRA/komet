<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://docbook.org/xml/5.1/rng/docbook.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://docbook.org/xml/5.1/sch/docbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
    version="5.1">
    <title>Exports and Versions</title>
    <section xml:id="export">
        <title>Exports and Versions</title>
        <para>The Versions tab contains information such as:<itemizedlist>
                <listitem>
                    <para>Recent versions of modules</para>
                </listitem>
                <listitem>
                    <para>Ability to export content</para>
                </listitem>
                <listitem>
                    <para>Ability to create module versions</para>
                </listitem>
            </itemizedlist></para>
        <para>Knowledge users with Content Manager permissions can create module versions; editors
            can export content. The primary purpose of creating versions is to make releases and
            exports available to the organization.</para>
        <section>
            <title>Export Content</title>
            <para>There are two types of exports that can be created: a SNOMED CT RF2 file, and a
                Solor.io compatible RF2 file. To export a file, select the modules and date range
                that you want, select the remaining information in the form, then press "Create
                Export".</para>
            <para>When an export is initiated, several steps happen in the background before a file
                is packaged for download. Once it is ready, your browser will prompt you to download
                the file to your computer. If another file is needed, go through the create export
                form again.</para>
            <para>The create an export form contains the following fields:<itemizedlist>
                    <listitem>
                        <para>Select modules - Select the modules that you want to export from. The
                            module that you have edits in is selected by default.</para>
                    </listitem>
                    <listitem>
                        <para>Content range - Select the date range for the content you are
                            exporting. Note that when the files are exported, the content's date
                            stamp will be updated to the selected start date.</para>
                    </listitem>
                    <listitem>
                        <para>Generate SCTID for content with missing IDs - If there are any SNOMED
                            content with missing SCTIDs, the system can generate them for you.
                            Include the namespace identifier provided by SNOMED international when
                            this option is selected.</para>
                    </listitem>
                    <listitem>
                        <para>Export type - select the appropriate file type for the system to
                            create.</para>
                    </listitem>
                </itemizedlist></para>
            <para>
                <figure>
                    <title>Export</title>
                    <mediaobject>
                        <?oxy_comment_start author="mnham" timestamp="20190624T121747-0700" comment="Images are temporary, need new ones once features are developed." flag="done"?>
                        <alt>Create an Export modal displays a form with the following information:
                            select modules, content range, generate SCTIDs, namespace, export type,
                            and buttons Create and Cancel.</alt><?oxy_comment_end?>
                        <imageobject>
                            <imagedata align="left" scalefit="1" width="40%" contentdepth="40%"
                                fileref="images/export.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
            </para>
        </section>
        <section>
            <title>Creating a Release Version</title>
            <para>When a module is ready for a release, the content manager can go through the
                Create a Version workflow to upload content to the repository.</para>
            <para>To create a version release, go to the versions tab on the left panel and select
                "Create a Release...". A form will appear asking for the following information:<itemizedlist>
                    <listitem>
                        <para>Module location - This is where the new version module will be located
                            after creation.</para>
                    </listitem>
                    <listitem>
                        <para>Version name</para>
                    </listitem>
                    <listitem>
                        <para>Content version date - This optional field will update the content
                            modification dates of the concepts to the date selected. If it is left
                            blank, no changes will be made to the original dates on each
                            concept.</para>
                    </listitem>
                    <listitem>
                        <para>Content range - Select the date range for the content you want to
                            create a version with. To better assist you, you can optionally select
                            the "Select by version date" link to pick a date by previous
                            versions.</para>
                    </listitem>
                    <listitem>
                        <para>Perform QA Test - QA tests are necessary to ensure accurate data. The
                            version may not be created if there is a QA error. You can perform the
                            test independently before creating a version or run it in this process.
                            If you run QA in this form and there are errors, the version will not be
                            created and you will be taken to the QA results page.</para>
                    </listitem>
                    <listitem>
                        <para>Generate SCTIDs for content with missing IDs - If there are any SNOMED
                            content with missing SCTIDs, the system can generate them for you.
                            Include the namespace identifier provided by SNOMED international when
                            this option is selected.</para>
                    </listitem>
                    <listitem>
                        <para>Namespace - If you choose to generate SCTIDs, this is the SNOMED
                            identifier that is provided to you by SNOMED CT.</para>
                    </listitem>
                    <listitem>
                        <para>Create and download and export file - Downloads a compressed file of
                            all of the contents.</para>
                    </listitem>
                    <listitem>
                        <para>Save a copy to the repository - Publishes the exported file into the
                            repository server.</para>
                    </listitem>
                </itemizedlist></para>
            <para>Select "Create Version" to begin the backend versioning process.</para>
        </section>
    </section>
</chapter>
